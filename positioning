<html>
<head>
<title>JavaScript Animation</title>
<script type="text/javascript">
<!--
var imgObj = null;
var animate;
function init(){
   imgObj = document.getElementById('myImage');
   imgObj.style.position= 'relative'; 
   imgObj.style.left = '0px';
   imgObj.style.top = '0px';
}
function moveRight(){
   imgObj.style.left = parseInt(imgObj.style.left) + 2 + 'px';
   animate = setTimeout(moveRight,20); // call moveRight in 20msec 
}

function moveLeft(){
   imgObj.style.left = parseInt(imgObj.style.left) - 2 + 'px';
   animate = setTimeout(moveLeft,20); // call moveLeft in 20msec   
}

function moveTop(){
   imgObj.style.top= parseInt(imgObj.style.top) + 2 + 'px';
   animate = setTimeout(moveTop,20); // call moveLeft in 20msec   
}

function moveDown(){
   imgObj.style.top= parseInt(imgObj.style.top) - 2 + 'px';
   animate = setTimeout(moveDown,20); // call moveLeft in 20msec   
}

function stop(){
   clearTimeout(animate);
   //imgObj.style.left = '0px'; 
}

document.addEventListener("keydown", function(e){
if(e.keyCode==39){
//event.prevenDefault();
imgObj.style.left = parseInt(imgObj.style.left) + 5 + 'px';
 }
else if(e.keyCode==37){
imgObj.style.left = parseInt(imgObj.style.left) - 5 + 'px';
 }
else if(e.keyCode==40){
imgObj.style.top= parseInt(imgObj.style.top) + 5 + 'px';
 }
else if(e.keyCode==38){
imgObj.style.top= parseInt(imgObj.style.top) - 5 + 'px';
 }
});


window.onload =init;
//-->
</script>
</head>
<body>
<form>
<img id="myImage" src="/images/html.gif" />
<p>Click the buttons below to handle animation</p>
<input type="button" value="Start" onclick="moveRight();" />
<input type="button" value="Stop" onclick="stop();" />
<input type="button" value="Back" onclick="moveLeft();" />
<input type="button" value="Down" onclick="moveTop();" />
<input type="button" value="Up" onclick="moveDown();" />
</form>
</body>
</html>
